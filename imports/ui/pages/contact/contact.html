<template name="contact">
    <div class="container-fluid">
		<div class="row">
			<div class="col-sm-12">
				<div class="card">
					<div class="card-header">
						Contact
					</div>
					<div class="card-body">
						{{#unless hasContacts}}
                    	<h2>Hi there!</h2>
                        <p>If you have a question or if you want to report a problem with the platform, feel free to contact us. You'll recieve an answer in no time.</p>
                    	<a class="btn btn-sm btn-primary mb-2" href="/contact/new" role="button">Let's Go</a>
                    	{{else}}
                    	<div class="filter p-1 mb-2">
                    		Show: 
                    		{{#each statuses}}
                    		{{#if checked}}
                    		<input type="checkbox" class="filter-choice" checked> {{text}}
                    		{{else}}
                    		<input type="checkbox" class="filter-choice"> {{text}}
                    		{{/if}}
                    		{{/each}}
                    	</div>
                        <table class="table table-responsive-sm table-hover table-outline mb-0">
                            <thead class="thead-light">
                                <tr>
                                    <th>Contact ID</th>
                                    <th>Email</th>
                                    <th>Author</th>
                                    <th>Created</th>
                                    <th>Status</th>
                                    <th>Replies</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each contact}}
                                <tr class="documents-index-item" >
                                    <td scope="row">{{_id}}</td>
                                    <td scope="row">{{email}}</td>
                                    <td scope="row">{{#if isCreatorModerator createdBy}} <i class="fas fa-user-cog" title="Moderator"></i> {{/if}} {{author createdBy}}</td>
                                    <td scope="row">{{formatDate createdAt}}</td>
                                    <td scope="row">
                                        {{#with formatStatus status}}
                                            <span class="badge badge-pill badge-{{klass}}">{{status}}</span>
                                        {{/with}}
                                    </td>
                                    <td scope="row">
                                    	{{commentCount}}
                                    </td>
                                    <td scope="row">
                             			<a class="btn btn-sm btn-primary" href="/contact/view/{{_id}}"  role="button">View</a> 
                             			{{#if isAuthor}}<a class="btn btn-sm btn-danger remove" href="#"  role="button">Remove</a>{{/if}}
                                    </td>
                                </tr>
                                {{else}}
                                No questions satisfy set filters.
                                {{/each}}
                            </tbody>
                        </table>
                        <a class="btn btn-sm btn-primary mt-2" href="/contact/new" role="button">New question</a>
                        {{/unless}}
					</div>
				</div>
			</div>
		</div>
	</div>
</template>